# section 17.4, page 408

_add:
  GPIO0:
    description: General Purpose Programming I/O (Block 0)
    baseAddress: 0xFF940000
    addressBlock:
      offset: 0x0000
      size: 0x0128
      usage: registers

  GPIO1:
    derivedFrom: GPIO0
    description: General Purpose Programming I/O (Block 1)
    baseAddress: 0xFF870000

  #GPIO1_SHADOW:
  #  derivedFrom: GPIO0
  #  description: General Purpose Programming I/O (Block 1 Shadow)
  #  baseAddress: 0xFF948000

  GPIO2:
    derivedFrom: GPIO0
    description: General Purpose Programming I/O (Block 2)
    baseAddress: 0xFF1C0000

  GPIO3:
    derivedFrom: GPIO0
    description: General Purpose Programming I/O (Block 3)
    baseAddress: 0xFF1D0000

  GPIO4:
    derivedFrom: GPIO0
    description: General Purpose Programming I/O (Block 4)
    baseAddress: 0xFF1E0000

GPIO0:
  _add:
    SWPORT_DR%s:
      description: Port Data Register
      addressOffset: 0x0000
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        data[%s]:
          description: Output data for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    SWPORT_DDR%s:
      description: Port Data Direction Register
      addressOffset: 0x0008
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        direction[%s]:
          description: Data direction for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    INT_EN%s:
      description: Interrupt Enable Register
      addressOffset: 0x0010
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Enable interrupts for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    INT_MASK%s:
      description: Interrupt Mask Register
      addressOffset: 0x0018
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        mask[%s]:
          description: Mask interrupts for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    INT_TYPE%s:
      description: Interrupt Level Register
      addressOffset: 0x0020
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        type[%s]:
          description: Interrupt trigger type for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    INT_POLARITY%s:
      description: Interrupt Polarity Register
      addressOffset: 0x0028
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        polarity[%s]:
          description: Interrupt polarity for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    INT_BOTHEDGE%s:
      description: Interrupt Both Edge Type Register
      addressOffset: 0x0030
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Interrupt trigger on both edges for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    DEBOUNCE%s:
      description: Debounce Enable Register
      addressOffset: 0x0038
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Debounce enable for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    DBCLK_DIV_EN%s:
      description: Debounce Clock Divide Enable Register
      addressOffset: 0x0040
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Debounce clock divider enable for the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    DBCLK_DIV_CON:
      description: Debounce Clock Divide Control Register
      addressOffset: 0x0048
      resetValue: 0x00000001
      fields:
        divisor:
          description: Divisor for debounce clock, minus 1.
          bitRange: "[23:0]"

    INT_STATUS:
      description: Interrupt Status Register
      addressOffset: 0x0050
      access: read-only
      fields:
        status[%s]:
          description: Interrupt status of the I/O port.
          bitRange: "[0:0]"
          dim: 32
          dimIncrement: 1

    INT_RAWSTATUS:
      description: Interrupt Raw Status Register
      addressOffset: 0x0058
      access: read-only
      fields:
        status[%s]:
          description: Interrupt status of the I/O port, before masking.
          bitRange: "[0:0]"
          dim: 32
          dimIncrement: 1

    PORT_EOI%s:
      description: Interrupt Clear Register
      addressOffset: 0x0060
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        clear[%s]:
          description: Clear edge-sensitive interrupts from the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
          modifiedWriteValues: oneToClear
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    EXT_PORT:
      description: External Port Data Register
      addressOffset: 0x0070
      access: read-only
      fields:
        data[%s]:
          description: Value of signals on the I/O port.
          bitRange: "[0:0]"
          dim: 32
          dimIncrement: 1

    VER_ID:
      description: Version ID Register
      addressOffset: 0x0078
      resetValue: 0x10219C88
      access: read-only

    STORE_ST%s:
      description: Store Status Register
      addressOffset: 0x0080
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        state[%s]:
          description: Store the state of the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    REG_GROUP_0%s:
      description: GPIO Group 0 Control
      addressOffset: 0x0100
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      # FIXME
      #resetValue: [0x00000000, 0x0000FFFF]
      fields:
        enable[%s]:
          description: Assign Group 0 of the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    VIRTUAL_EN:
      description: GPIO Virtual Enable
      addressOffset: 0x0108
      fields:
        enable:
          description: Enable virtual mode of the I/O port.
          bitRange: "[0:0]"
        write_mask_enable:
          description: Write enable for the 'enable' field.
          bitRange: "[16:16]"
          access: write-only

    REG_GROUP_1%s:
      description: GPIO Group 1 Control
      addressOffset: 0x0110
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Assign Group 1 of the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    REG_GROUP_2%s:
      description: GPIO Group 2 Control
      addressOffset: 0x0118
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Assign Group 2 of the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

    REG_GROUP_3%s:
      description: GPIO Group 3 Control
      addressOffset: 0x0120
      dim: 2
      dimIncrement: 4
      dimIndex: _L,_H
      fields:
        enable[%s]:
          description: Assign Group 3 of the I/O port.
          bitRange: "[0:0]"
          dim: 16
          dimIncrement: 1
        write_mask[%s]:
          description: Write enable for lower bits of this register.
          bitRange: "[16:16]"
          dim: 16
          dimIncrement: 1
          access: write-only

  SWPORT_DR%s:
    data*: [0, 1]
    write_mask*: [0, 1]

  SWPORT_DDR%s:
    direction*:
      INPUT: [0, "Pin is an input."]
      OUTPUT: [1, "PIN is an output."]
    write_mask*: [0, 1]

  INT_EN%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  INT_MASK%s:
    mask*: [0, 1]
    write_mask*: [0, 1]

  INT_TYPE%s:
    type*:
      LEVEL: [0, "Level-sensitive."]
      EDGE: [1, "Edge-sensitive."]
    write_mask*: [0, 1]

  INT_POLARITY%s:
    polarity*:
      LOW_OR_FALLING: [0, "Active-low or falling edge."]
      HIGH_OR_RISING: [1, "Active-high or rising edge."]
    write_mask*: [0, 1]

  INT_BOTHEDGE%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  DEBOUNCE%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  DBCLK_DIV_EN%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  DBCLK_DIV_CON:
    divisor: [0, 0xffffff]

  PORT_EOI%s:
    clear*: [0, 1]
    write_mask*: [0, 1]

  STORE_ST%s:
    state*: [0, 1]
    write_mask*: [0, 1]

  REG_GROUP_0%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  VIRTUAL_EN:
    enable: [0, 1]
    write_mask_enable: [0, 1]

  REG_GROUP_1%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  REG_GROUP_2%s:
    enable*: [0, 1]
    write_mask*: [0, 1]

  REG_GROUP_3%s:
    enable*: [0, 1]
    write_mask*: [0, 1]
